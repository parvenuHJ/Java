package view;



import java.util.Random;
import java.util.Scanner;

import controller.MbController;
import controller.Mp3;
import controller.UserController;
import controller.gameController;
import javazoom.jl.player.MP3Player;
import model.MbDTO;
import model.UserDAO;
import model.UserDTO;

public class Main {

	public static void main(String[] args) throws InterruptedException {

		Scanner sc = new Scanner(System.in);
		MbDTO dto = null;
		MbController con = new MbController();
		gameController gcon = new gameController();
		UserController ucon = new UserController();
		UserDTO udto = null;





		MP3Player mp3 = new MP3Player();
		
		Mp3 m = new Mp3();
		
		Random rd = new Random();

		// 회원가입 및 로그인
		Thread.sleep(1000);
		System.out.println(
				"                                                     ..                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                                                    .■#                                             \r\n"
						+ "                ,##■■■■■■■,     .$■#$.     ■■.      .■#  :■*  !■■■■■■■■■#~                          \r\n"
						+ "               ;■■■■■■■■■■,    =■■###■=    ■■.      .■#  ;■*  !■■■■■■■■■■■#,                        \r\n"
						+ "              .■■~            $■$;-~:#■$   ■■.      .■#  ;■=  !■=,,....,~#■■.                       \r\n"
						+ "              -■#            :■$-,...-$■:  ■■.      .■#  ;■=  !■*         =■#                       \r\n"
						+ "              .■■.           ■■:....,,~#■  ■■.      .■#  ;■=  !■*          ■■,                      \r\n"
						+ "               *■■■■■■■■#;  .■#,.,...,.#■. ■■.      .■#  ;■=  !■*          =■:                      \r\n"
						+ "                *■■■■■■■■■* .■#,,.;=:,.#■. ■■.      ,■#  ;■=  !■*          !■;                      \r\n"
						+ "                        ,■■, ■#-..-■$,-#■  ■■-      ~■#  ;■=  !■*          $■~                      \r\n"
						+ "                         *■: =■!..,*■;*■=  =■$      $■*  ;■=  !■*         -■■                       \r\n"
						+ "                         $■~ .■■!,.-■#■■.  .■■=    =■■.  ;■=  !■*        -#■!                       \r\n"
						+ "         ===============#■#   ~#■#=*#■■:    ~■■■##■■■-   ;■=  !■#=====$$#■■=                        \r\n"
						+ "         #■■■■■■■■■■■■■■■#.    ,$■■■■##      ,#■■■■$,    ;■=  !■■■■■■■■■■■;                         \r\n"
						+ "         ,,,,,,,,,,,,,,,.         ,, #■!        ,,       .,.  ,-,,---,,,.                           \r\n"
						+ "                                     -■#                                                            \r\n"
						+ "                                      $■!                                                           \r\n"
						+ "                                      ,■■.                                                          \r\n"
						+ "                               ...,...,#■!               ..         .,.  .,,,,,,,,,,,               \r\n"
						+ "                            ~#■■■■■■■■■■■~      =.      ,■■.        =■!  $■■■■■■■■■■■~              \r\n"
						+ "                           !■■■##########      .■!      ,■■=       ,■■!  $■$=========-              \r\n"
						+ "                          ~■■;                 =■■      ,■■#.      $■■!  $#~........,.              \r\n"
						+ "                          #■;                  ##■!     ,■■■=     ,■■■!  $■~..........              \r\n"
						+ "                         ,■#   .......        *■*##.    ,■#■■.    $■$■!  $■~....------------.       \r\n"
						+ "                         ~■$   #■■■■■■!      .■#,*■;    ,■#!■!   ,■#;■!  $■~...,#■■■■■■■■■■■~       \r\n"
						+ "                         ~■$   ######■■      !■!,-##    ,■#.■#.  =■:;■!  $■~...,*****$■##■■■~       \r\n"
						+ "                         .■■.        $■*    .■#,,.*■;   ,■# !■* ,■# ;■!  $#~..........              \r\n"
						+ "                          =■$        ,■■.   ;■*,,,-##   ,■# .■#.=■: ;■!  $#~..........              \r\n"
						+ "                           #■■;-------$■*-, ##-,.,.*#:  ,■#  !■=■#  ;■!  $#!~~~~~~~~:,              \r\n"
						+ "                           .#■■■■■■■■■■■■■#:■*.....~■■  ,■#  .■■■;  ;■!  $■■■■■■■■■■■~              \r\n"
						+ "                             -*■■■■■■■■#■■##■:~~~~~~$■: ,■#   !■■   ;■!  $■■■■■■■■■■■~              \r\n"
						+ "                                       .■■,                                                         \r\n"
						+ "                                        =■=                                                         \r\n"
						+ "                                         ■■,                                                        \r\n"
						+ "                                         :!:                                                        ");
		 while (true) {
			m.fx(2);
			Thread.sleep(5000);
	         System.out.println("\n\n\n\n\t                                        ●                                                       ");
	         Thread.sleep(1000);
	         System.out.println("\t                                        ▲                                                       ");
	         Thread.sleep(1000);
	         System.out.println("\t                                        ■                                                       ");
	         Thread.sleep(1000);
	         System.out.println("\t                                        $                                                       \n\n\n\n\n");
	         Thread.sleep(1000);
	         System.out.println("                                                   __  __________   ____  __                                                          \r\n"
	               + "                                                  /  |/  / ____/ | / / / / /                                                          \r\n"
	               + " ________________________________________________/ /|_/ / __/ /  |/ / / / /___________________________________________________________\r\n"
	               + "/_____/_____/_____/_____/_____/_____/_____/_____/ /  / / /___/ /|  / /_/ /_____/_____/_____/_____/_____/_____/_____/_____/_____/_____/\r\n"
	               + "                                               /_/  /_/_____/_/ |_/\\____/                                                             \r\n"
	               + "                                                                                                                                      ");
	         Thread.sleep(2000);
	         System.out.print("\n[1]회원가입 \t\t\t\t[2]로그인 \t\t\t\t[3]종료 >> ");
			int select = sc.nextInt(); // 사용자가 선택

			if (select == 1) {
				// (insert)
				// 사용자로부터 ID,PW을 입력받아 회원가입

				System.out.print("ID : ");
				String id = sc.next();
				System.out.print("PW : ");
				String pw = sc.next();

				dto = new MbDTO(id, pw);
				con.insert(dto);

			} else if (select == 2) {
				// login

				System.out.print("ID : ");
				String id = sc.next();
				System.out.print("PW : ");
				String pw = sc.next();

				con = new MbController();
				dto = new MbDTO(id, pw);

				// 참가자 등록 (닉네임, 등번호 입력)
	            
	            if (con.login(dto) == true && ucon.selectOne(id)==null) {
	               System.out.print("닉네임을 입력해주세요 : ");
	               String name = sc.next();
	               System.out.print("등번호를 입력해주세요 : ");
	               int backnum = sc.nextInt();

	               ucon = new UserController();
	               udto = new UserDTO(id, name, backnum);
	               new UserDAO().user(udto);
	               ucon.userSel(id);

	            } else {
	               ucon.userSel(id);
	            }


				// 게임시작
//				System.out.println("게임이 시작 됩니다.");
				
	            Thread.sleep(2000);
	               System.out.println("                   _____  ___     __  ___  ____        ____  ______  ___     ___    ______               \r\n"
	                     + "  ____ ____ ____  / ___/ / _ |   /  |/  / / __/ ____  / __/ /_  __/ / _ |   / _ \\  /_  __/ ____ ____ ____\r\n"
	                     + " /___//___//___/ / (_ / / __ |  / /|_/ / / _/  /___/ _\\ \\    / /   / __ |  / , _/   / /   /___//___//___/\r\n"
	                     + "/___//___//___/  \\___/ /_/ |_| /_/  /_/ /___/       /___/   /_/   /_/ |_| /_/|_|   /_/   /___//___//___/ \r\n"
	                     + "                                                                                                         ");
	            
				m.stp(2);
				// 1. 딱지 치기
				gcon.ddak();

				// 2. 무궁화 꽃이 피었습니다.
				System.out.println("#+*###%%%+===----::::::-----------:::::::::::::::::::::...:::::+%%###@\r\n"
						+ "##**##%%#+===----:::::::-----------::::::::::::::::::::::::::::-*-:==@\r\n"
						+ "##***%%%+====----:::::--------------::::::::::::::::::::::::::::--*%#@\r\n"
						+ "#*###%%@+====--------------====-----:::::::--------:::::::::::::=#%%#@\r\n"
						+ "+*###%%%+====---------------===-----:::::::----------::::::::::::*%%#*\r\n"
						+ "*####%%#+=====------------=====-----::::::::-----------::::::::::+%%#+\r\n"
						+ "#=#*#%%*+======-------=====+=====----::::::-----====-----::::::::+%%**\r\n"
						+ "*##%%%%++++=====-------===+++++===---::::::---=======-----:::::::+%%#@\r\n"
						+ "#%####%++++++===--------===++*+++==--:::::---======------::::::::+%##@\r\n"
						+ "*#####%++++++===-----:::--==++**++=--:::::---=====------:::::::::+%##@\r\n"
						+ "#*####%++++++===+*****+=-:-=++**++=--:::::----==--=******+=--::::+%##@\r\n"
						+ "###***#+++++++**#%%####**=:-=++*++=-::..:::-----=**--:::-*#*=-:::=##@@\r\n"
						+ "%#*#***+++++*##%#*-=##*#*#*:-=++++=-::...::----=*=:.*+==:.:##=:::=*#@@\r\n"
						+ "*######++++*###+-:-##*+.=+##--++++=-::...:::::=+-::*#*+=*-.:##=::-*#@@\r\n"
						+ "###%###+++=+##+=-:####***#+#*-=++==-::....:::-+=-::###**%#-:=#=::-+#@@\r\n"
						+ "%##%%%#++===+++=--%%%#%%%%.##+====--::......:=*=-:+%%%%%%%=:==::::-*@@\r\n"
						+ "%##%%%#++=------=-%%#*#%%#:++==-==--::......:====-=%%#+%%*-::.:.:::@@@\r\n"
						+ "%%%%###++=----::-:=###%%=-::::------::.......:::--:*#*-==-:....::::@@@\r\n"
						+ "@%%%%##++==-----::::----:...:----==--:........:::::---::........:::@@@\r\n"
						+ "@@%%%%%++=------::::.....::::----==--:.........:::::::::.......::::@@@\r\n"
						+ "@@@@@@@++==----:::::...:::::::---==--::.........::::::::.......:::::@@\r\n"
						+ "@@@@@@#+===----:::::::::::::::---===-:::.:.......:::::::.......:::::@@\r\n"
						+ "@@@@%%*+===-----::::::::::::::--====-::::::.......::::........::::::@@\r\n"
						+ "@@@@%%*++===----::::::::::::::--====-::::::......:...........::::::::@\r\n"
						+ "@@@@@%+++===-----:::::::::::::-====--:::::::.::::::..........::::::::@\r\n"
						+ "@@@@@@+++===-----:::::::::::::-=====-::::::::::::::.........:::::::::@\r\n"
						+ "@@@@@+++====------::::::::::::=++===--::::::::::::::.......::::::::::@\r\n"
						+ "@@@@@+++====-------:::::::::::=+++====--::::::::::::.....:::::::::::::\r\n"
						+ "@@@@@+++====--------:::::::::-+++++++===---::::::::::....:::::::::::::\r\n"
						+ "@@@@@*++====--------:::::::::=+******++=+++-::::::::::..::::::::::::::\r\n"
						+ "@@@@@*++=====--------:::::::-++*+*##*++===+-::::::::::::::::::::::::::\r\n"
						+ "@@@@+*+++======-------::::::-=+++=**++=-:---:::::::::::::::::::::::::-\r\n"
						+ "@@@@***+++++========---------===========--:-:-------------------------");
				gcon.mugung();



				// 달고나
				
				Thread.sleep(2000);
	            System.out.println("██████╗  █████╗ ██╗      ██████╗  ██████╗ ███╗   ██╗ █████╗ \r\n"
	                  + "██╔══██╗██╔══██╗██║     ██╔════╝ ██╔═══██╗████╗  ██║██╔══██╗\r\n"
	                  + "██║  ██║███████║██║     ██║  ███╗██║   ██║██╔██╗ ██║███████║\r\n"
	                  + "██║  ██║██╔══██║██║     ██║   ██║██║   ██║██║╚██╗██║██╔══██║\r\n"
	                  + "██████╔╝██║  ██║███████╗╚██████╔╝╚██████╔╝██║ ╚████║██║  ██║\r\n"
	                  + "╚═════╝ ╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═╝\r\n"
	                  + "                                                            \r\n"
	                  + "                             ██████╗  █████╗ ███╗   ███╗███████╗\r\n"
	                  + "                            ██╔════╝ ██╔══██╗████╗ ████║██╔════╝\r\n"
	                  + "                            ██║  ███╗███████║██╔████╔██║█████╗  \r\n"
	                  + "                            ██║   ██║██╔══██║██║╚██╔╝██║██╔══╝  \r\n"
	                  + "                            ╚██████╔╝██║  ██║██║ ╚═╝ ██║███████╗\r\n"
	                  + "                             ╚═════╝ ╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝\r\n"
	                  + "                                                                ");


				System.out.println("다음 달고나를 잘 자르세요. ");
				System.out.println(" ┎─────┒ ");
				System.out.println(" ┃/////┃ ");
				System.out.println(" ┃/////┃ ");
				System.out.println("●┖─────┚ ");
				
				
				
				
				gcon.dal();

				// 5. 징검다리

				Thread.sleep(2000);
	            System.out.println("  █████████  █████                                  ███                    \r\n"
	                  + " ███░░░░░███░░███                                  ░░░                     \r\n"
	                  + "░███    ░░░ ███████    ██████  ████████  ████████  ████ ████████    ███████\r\n"
	                  + "░░█████████░░░███░    ███░░███░░███░░███░░███░░███░░███░░███░░███  ███░░███\r\n"
	                  + " ░░░░░░░░███ ░███    ░███████  ░███ ░███ ░███ ░███ ░███ ░███ ░███ ░███ ░███\r\n"
	                  + " ███    ░███ ░███ ███░███░░░   ░███ ░███ ░███ ░███ ░███ ░███ ░███ ░███ ░███\r\n"
	                  + "░░█████████  ░░█████ ░░██████  ░███████  ░███████  █████████ █████░░███████\r\n"
	                  + " ░░░░░░░░░    ░░░░░   ░░░░░░   ░███░░░   ░███░░░  ░░░░░░░░░ ░░░░░  ░░░░░███\r\n"
	                  + "                               ░███      ░███                      ███ ░███\r\n"
	                  + "                               █████     █████                    ░░██████ \r\n"
	                  + "                              ░░░░░     ░░░░░                      ░░░░░░  \r\n"
	                  + "        █████████  █████                                \r\n"
	                  + "       ███░░░░░███░░███                                 \r\n"
	                  + "      ░███    ░░░ ███████    ██████  ████████    ██████ \r\n"
	                  + "      ░░█████████░░░███░    ███░░███░░███░░███  ███░░███\r\n"
	                  + "       ░░░░░░░░███ ░███    ░███ ░███ ░███ ░███ ░███████ \r\n"
	                  + "       ███    ░███ ░███ ███░███ ░███ ░███ ░███ ░███░░░  \r\n"
	                  + "      ░░█████████  ░░█████ ░░██████  ████ █████░░██████ \r\n"
	                  + "       ░░░░░░░░░    ░░░░░   ░░░░░░  ░░░░ ░░░░░  ░░░░░░  \r\n"
	                  + "                                                        \r\n"
	                  + "                                                        \r\n"
	                  + "                                                        ");
	            Thread.sleep(1000);
	            
	            
	          gcon.jing();

			} else if (select == 3) {
				// 종료
				System.out.println("프로그램 종료");
			    
				
				break;
			} else {
				System.out.println("다시 선택해 주세요!.");
			}

		}
	}


}